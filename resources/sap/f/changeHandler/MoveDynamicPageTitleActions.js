/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/Utils"],function(e){"use strict";var t={};var n="actions";t.applyChange=function(e,t,r){var o=r.modifier,g=r.view,a=r.appComponent,i=e.getDefinition().content.movedElements[0];var c=o.bySelector(i.selector,a,g),s=i.targetIndex;o.getAggregation(t,n).forEach(function(r,i){if(o.getId(r)===o.getId(c)){o.removeAggregation(t,n,r);o.insertAggregation(t,"dependents",r,undefined,g);e.setRevertData({index:i,sourceParent:o.getSelector(t,a),aggregation:n})}});o.insertAggregation(t,n,c,s,g);return true};t.revertChange=function(e,t,r){var o=r.modifier,g=r.view,a=r.appComponent,i=e.getDefinition().content.movedElements[0],c=e.getRevertData();var s=o.bySelector(i.selector,a,g),d=c?c.index:i.targetIndex,u=i.sourceIndex;o.removeAggregation(t,n,s,d,g);o.insertAggregation(t,n,s,u,g);return true};t.completeChangeContent=function(e,t,n){var r=n.modifier,o=n.appComponent,g=e.getDefinition();g.content={movedElements:[],targetAggregation:t.target.aggregation,targetContainer:t.selector};t.movedElements.forEach(function(e){var t=e.element||r.bySelector(e.id,o);g.content.movedElements.push({selector:r.getSelector(t,o),sourceIndex:e.sourceIndex,targetIndex:e.targetIndex})})};t.getCondenserInfo=function(e){var t=e.getContent();var n=e.getRevertData();return{affectedControl:t.movedElements[0].selector,classification:sap.ui.fl.condenser.Classification.Move,sourceContainer:n.sourceParent,targetContainer:t.targetContainer,sourceIndex:n.index,sourceAggregation:n.aggregation,targetAggregation:t.targetAggregation,setTargetIndex:function(e,t){e.getContent().movedElements[0].targetIndex=t},getTargetIndex:function(e){return e.getContent().movedElements[0].targetIndex}}};return t},true);